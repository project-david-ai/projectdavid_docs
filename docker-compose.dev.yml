version: "3.8"

services:
  docs-dev:
    build:
      context: .
      dockerfile: Dockerfile.dev
    container_name: projectdavid_docs-dev
    working_dir: /app
    ports:
      - "5173:5173"
    environment:
      # Duplicate here so overrides are easy from the host shell
      CHOKIDAR_USEPOLLING: "true"
      WATCHPACK_POLLING: "true"
      VITE_DEV_SERVER_FORCE_POLL: "true"
    volumes:
      - ./:/app:cached            # your src â†’ container
      - /app/node_modules         # anonymous volume for deps
    command: npm run dev -- --host
